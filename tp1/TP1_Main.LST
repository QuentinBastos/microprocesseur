C51 COMPILER V9.60.0.0   TP1_MAIN                                                          02/09/2026 11:22:26 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE TP1_MAIN
OBJECT MODULE PLACED IN TP1_Main.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE TP1_Main.c OPTIMIZE(0,SPEED) REGFILE(.\TP1_3IRC_EXE.ORC) BROWSE DEBUG OB
                    -JECTEXTEND TABS(2)

line level    source

   1          //-----------------------------------------------------------------------------
   2          // TP1_archi_3IRC.c
   3          //-----------------------------------------------------------------------------
   4          // AUTH: FJO
   5          // DATE: 25/1/25
   6          //
   7          // Target: C8051F02x
   8          // Tool chain: KEIL Microvision5
   9          //
  10          //-----------------------------------------------------------------------------
  11          #include <c8051F020.h>
  12          #include <c8051F020_SFR16.h>
  13          #include <TP1_Lib_C.h>
  14          #include <TP1_Lib_ASM.h>
  15          
  16          // Déclarations Registres et Bits de l'espace SFR
  17          #define LED_ON 1
  18          #define LED_OFF 0
  19          
  20          //-----------------------------------------------------------------------------
  21          // MAIN Routine
  22          //-----------------------------------------------------------------------------
  23          void main (void) {
  24   1        
  25   1      unsigned int  rampe = 0;
  26   1      unsigned int  escalier; 
  27   1      
  28   1      unsigned int xdata tab[16];
  29   1      unsigned int cp = 0;  
  30   1      unsigned char i;  
  31   1        
  32   1              Init_Device();
  33   1              DAC_Init();
  34   1        
  35   1              while(1)
  36   1              {  
  37   2                   P1 |= (1<<6);
  38   2                  
  39   2                   while (rampe < 4096)
  40   2                   { 
  41   3                       send_to_DAC0(rampe);
  42   3                       rampe++;
  43   3                       tempo(10); 
  44   3                   }
  45   2                   
  46   2                   P1 &= ~(1<<6);
  47   2                   while (rampe != 0)
  48   2                   { 
  49   3                       rampe--;
  50   3                       escalier = rampe & 0x0F00;
  51   3                       send_to_DAC0(escalier);
  52   3                       tempo(10); 
  53   3                   }
  54   2                   for(i = 0;i<16;i++)
C51 COMPILER V9.60.0.0   TP1_MAIN                                                          02/09/2026 11:22:26 PAGE 2   

  55   2                   {  
  56   3                      tab[i] = cp;
  57   3                      cp++;              
  58   3                   }                 
  59   2                        
  60   2              }                           
  61   1            }
  62          //*****************************************************************************  


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    149    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     32    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      7    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
